version: '3.8'
services:
  frontend-3005:
    image: node:18-alpine
    container_name: rsv-frontend-3005
    ports:
      - "3005:3005"
    environment:
      - NODE_ENV=development
      - PORT=3005
    command: >
      sh -c "
        apk add --no-cache curl &&
        mkdir -p /app && cd /app &&
        echo 'const express = require(\"express\");
        const app = express();
        const port = 3005;
        app.use(express.json());
        app.get(\"/health\", (req, res) => {
          res.json({status: \"healthy\", service: \"Frontend 3005\", timestamp: new Date().toISOString()});
        });
        app.get(\"/\", (req, res) => {
          res.json({message: \"Frontend Service 3005\", version: \"1.0.0\"});
        });
        app.listen(port, () => console.log(\"Frontend 3005 running\"));
        ' > server.js &&
        npm init -y && npm install express && node server.js
      "
    restart: unless-stopped

  frontend-3007:
    image: node:18-alpine
    container_name: rsv-frontend-3007
    ports:
      - "3007:3007"
    environment:
      - NODE_ENV=development
      - PORT=3007
    command: >
      sh -c "
        apk add --no-cache curl &&
        mkdir -p /app && cd /app &&
        echo 'const express = require(\"express\");
        const app = express();
        const port = 3007;
        app.use(express.json());
        app.get(\"/health\", (req, res) => {
          res.json({status: \"healthy\", service: \"Frontend 3007\", timestamp: new Date().toISOString()});
        });
        app.get(\"/\", (req, res) => {
          res.json({message: \"Frontend Service 3007\", version: \"1.0.0\"});
        });
        app.listen(port, () => console.log(\"Frontend 3007 running\"));
        ' > server.js &&
        npm init -y && npm install express && node server.js
      "
    restart: unless-stopped

  frontend-3008:
    image: node:18-alpine
    container_name: rsv-frontend-3008
    ports:
      - "3008:3008"
    environment:
      - NODE_ENV=development
      - PORT=3008
    command: >
      sh -c "
        apk add --no-cache curl &&
        mkdir -p /app && cd /app &&
        echo 'const express = require(\"express\");
        const app = express();
        const port = 3008;
        app.use(express.json());
        app.get(\"/health\", (req, res) => {
          res.json({status: \"healthy\", service: \"Frontend 3008\", timestamp: new Date().toISOString()});
        });
        app.get(\"/\", (req, res) => {
          res.json({message: \"Frontend Service 3008\", version: \"1.0.0\"});
        });
        app.listen(port, () => console.log(\"Frontend 3008 running\"));
        ' > server.js &&
        npm init -y && npm install express && node server.js
      "
    restart: unless-stopped
